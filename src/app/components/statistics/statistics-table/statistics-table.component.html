<!-- panel -->
<div class="text-center">
  <h3>{{ 'LearnResults' | translate }}</h3>
</div>
<hr>
<div class="">
  <p-button class="mx-2 mt-2" type="button" styleClass="p-button-danger" (onClick)="openDeleteAllConfirmation()">
    {{ 'DeleteAllLearnResult' | translate }}
  </p-button>
</div>

<!-- statistics list table -->
<div class="mt-3">
  <p-table #statisticsTable
    [value]="statistics" [paginator]="true" [rows]="5" [showCurrentPageReport]="true"
    [tableStyle]="{ 'min-width': '50rem' }" currentPageReportTemplate="{{ 'AllResult' | translate }}: {totalRecords}"
    [rowsPerPageOptions]="[5, 10, 25, 50]" [styleClass]="'p-datatable-sm'">
    <ng-template pTemplate="header">
      <tr>
        <th style="width:15%" pSortableColumn="correctCount">{{ 'CorrectCount' | translate }} <p-sortIcon
            field="correctCount"></p-sortIcon></th>
        <th pSortableColumn="incorrectCount">{{ 'IncorrectCount' | translate }} <p-sortIcon
            field="incorrectCount"></p-sortIcon></th>
        <th pSortableColumn="result">{{ 'Result' | translate }} <p-sortIcon field="result"></p-sortIcon></th>
        <th pSortableColumn="learnMode">{{ 'LearnModeType' | translate }} <p-sortIcon field="learnMode"></p-sortIcon>
          <p-dropdown [options]="customLearnModeFilterOptions" [style]="{ width: '100%' }"
          [showClear]="true"
          (onChange)="statisticsTable.filter($event.value, 'learnMode', 'equals')">
        </p-dropdown>
        </th>
        <th pSortableColumn="created">{{ 'Created' | translate }} <p-sortIcon field="created"></p-sortIcon></th>
        <th style="width:5%"> </th>
      </tr>
    </ng-template>
    <ng-template pTemplate="body" let-statistics>
      <tr>
        <td>{{ statistics.correctCount }}</td>
        <td>{{ statistics.incorrectCount }}</td>
        <td>{{ statistics.result }}%</td>
        <td>{{ getLearnModeLabel(statistics.learnMode)}}</td>
        <td>{{ statistics.created | utcToLocalDate | translateDate:'LanguageDateFormat'}}</td>
        <td><p-button styleClass="p-button-danger" (click)="openDeleteConfirmation(statistics.id)">{{ 'Delete' |
            translate }}</p-button></td>
      </tr>
    </ng-template>
  </p-table>
</div>
