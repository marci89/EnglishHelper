<div class="mt-3">
  <div class="card col-lg-8 col-sm-12 mx-auto">
    <div class="card-body">
      <form #form="ngForm" class="mb-3" (ngSubmit)="onClickNextButton()" autocomplete="off">
      <!-- Any error -->
      <div *ngIf="serverError" class="alert alert-danger">
        {{ serverError | translate}}
      </div>

      <div *ngIf="!serverError && !isFinished">
        <!-- Header -->
        <div class="row">
          <div class="col-12 col-md-6 col-sm-6">
            <h5>{{'Words' | translate}}: {{solvedWordCount}}/{{wordListTotalCount}}</h5>
          </div>
          <div class="col-12 col-md-6 col-sm-6 d-flex flex-column flex-sm-row justify-content-end align-items-start">
            <h5 style="margin-right: 10px;">{{'Result' | translate}}: {{result}}%</h5>
          </div>
        </div>
        <!--Sound-->
        <div class="row">
          <div class="col-12 d-flex justify-content-center align-items-center text-center mt-3">
            <div *ngIf="enableSound">
              <p-button [disabled]="waiting" type="button" styleClass=" p-button-lg" class="mx-2" (click)="speak()">{{
                'Listen'
                | translate
                }}
                <i class="fa fa-volume-up fa-lg" style="margin-left: 5px;"></i>
              </p-button>
            </div>
          </div>
        </div>
        <hr>
        <!-- Any messages -->
        <div *ngIf="message" [innerHTML]=" message"
          [ngClass]="{'alert alert-danger': !isSuccesssMessage, 'alert alert-success': isSuccesssMessage, 'message mt-3 mb-3': true}">
        </div>

        <!-- Input -->
        <div class="text-center">
          <p>{{ 'TypeListeningTextHere'| translate }}</p>
        </div>
          <div class="row mt-3">
            <div class="col-12 d-flex justify-content-center text-center">
              <p-inputMask mask="{{wordInputMask}}" [(ngModel)]="wordInput" name="wordInput"
                class="p-inputtext-lg word-input-mask"></p-inputMask>
            </div>
          </div>

          <!-- Button -->
          <div class="row">
            <div class="col-12 d-flex justify-content-center text-center mt-3">
              <p-button [disabled]="waiting" type="button" class="mx-3" styleClass="p-button-success p-button-lg"
                (click)="onClickNextButton()">{{ 'Next' |
                translate
                }}</p-button>
            </div>
          </div>
      </div>


      <!-- If the lesson has done -->
      <div *ngIf="isFinished">
        <div class="row">
          <div class="col-12 col-md-6 col-sm-6">
            <span class="header-label">{{'Good' | translate}}: {{correctWordCount}}</span>
            <span class="mx-4 header-label">{{'Bad' | translate}}: {{incorrectWordCount}}</span>
          </div>
          <div class="col-12 col-md-6 col-sm-6 text-sm-start text-md-end text-lg-end">
            <span class="header-label">{{'Result' | translate}}: {{result}}%</span>
          </div>
        </div>
        <div class="row">
          <div class="col-12 d-flex justify-content-center text-center mt-3">
            <h2> {{ 'LearningFinished' | translate}}</h2>
          </div>
        </div>
        <div class="row">
          <div class="col-12 d-flex justify-content-center text-center mt-3">
            <p-button type="button" styleClass="p-button-success" (click)="restart()">{{ 'Restart' | translate
            }}</p-button>
          <p-button type="button" styleClass="p-button-danger mx-2" routerLink="/learn-settings">{{ 'BackToLearnSettings' | translate
            }}</p-button>
          </div>
        </div>
      </div>
    </form>
    </div>
  </div>
</div>

